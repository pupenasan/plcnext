[На основну](../README.md)

# HMI застосунок

PLCnext Engineer дозволяє створювати програму HMI (людино-машинний інтерфейс) керуючою програмою, що працює на вашому контролері для

- візуалізації та моніторингу
- керування

Застосунок HMI складається з однієї або кількох сторінок HMI, заповнених стандартними об’єктами або попередньо означеними символами, які можна призначити тегам HMI, щоб анімувати їх або надсилати команди керування програмі.

Для візуалізації та керування програмою автоматизації таким чином необхідно обмінюватися даними між програмою HMI та контролером. Цей обмін даними реалізується за допомогою тегів HMI. **Тег HMI** можна розглядати як внутрішню змінну HMI. Тег HMI присвоюється глобальній змінній IEC 61131-3 або локальній змінній із встановленим атрибутом `HMI`. Через тег HMI програма HMI отримує доступ для читання або запису до змінних. Додавши динаміку/дію до властивості об’єкта HMI і зв’язавши цю динаміку/дію з тегом HMI, значення змінної можна візуалізувати/записати через HMI.

Пов’язані з безпекою змінні IEC 61131-3 в Safety PLC не можна використовувати на сторінці HMI, оскільки теги HMI не можна створювати та призначати таким змінним. Можна створити теги HMI для змінних обміну, тобто для змінних Safety PLC стандартних даних типу, які призначаються глобальній змінній стандартного ПЛК.

Дані програми HMI зберігаються автоматично як частина проекту. Застосунок HMI є частиною образу проекту, який записується на контролер під час виконання команди `Write and Start Project`. Окрім логіки програми та даних конфігурації/параметризації проекту, образ проекту містить усі відповідні дані HMI. Використовуючи веб-сервер на контролері, ви можете запускати програму HMI у стандартному веб-браузері, а потім контролювати та керувати процесами, що виконуються на контролері.

Для швидкого ознайомлення можете пройти [HMI Швидкий старт](hmiquickstart.md).

## Короткий огляд функцій

- Потужний редактор HMI для розробки сторінок HMI з використанням об’єктів HMI, символів і зображень, вставлених із області COMPONENTS. Властивості об’єкта можна редагувати у вікні властивостей. 

- Анімація властивостей об'єкта HMI, таких як положення об'єкта, видимість тощо, за допомогою тегів HMI.
- Дії, призначені об'єктам HMI, дозволяють записувати значення в процес автоматизації (наприклад, `Action on click` для кнопок HMI).
- Бібліотеки символів HMI забезпечують попередньо означені символи.
- Створення та повторне використання означених користувачем символів HMI.
- Додавання зображення та повторного їх використання їх на своїх сторінках HMI так часто, як потрібно.
- Створення та випуск бібліотек HMI із означених користувачем зображень і символів HMI.
- Гнучка навігація до сторінок HMI шляхом встановлення динамічної дії `Action on Click`  для об’єкта HMI.
- Визначення структури навігації: редактор `Navigation` дозволяє вам визначити, як ви можете переходити між сторінками HMI у проекті під час запуску програми HMI.
- Захист програми HMI від несанкціонованого використання шляхом встановлення прав доступу для сторінок HMI та об’єктів HMI.

- Створення багатомовних застосунків HMI, перекладаючи тексти HMI різними мовами.
- Запуск програм автоматизації безпосередньо з PLCnext Engineer за допомогою веб-сервера контролера.
- Контроль та керування програмою автоматизації, що працює на контролері, через програму HMI у стандартному веб-браузері.
- Додатковий генератор HMI, який дозволяє автоматично створювати повну візуалізацію (вміст HMI) на основі вашого проекту за допомогою лише однієї команди.

## Запуск HMI застосунку

Запуск HMI застосунку означає завантаження даних HMI в контролер та завантаження та виконання візуалізації у веб-клієнті/браузері. Сторінки HMI відображаються стандартним веб-браузером на вашому ПК або смартфоні, на яких не потрібне додаткове програмне забезпечення. 

Застосунок HMI можна запускати та візуалізувати за допомогою стандартного веб-браузера:

- на вашому ПК або безпосередньо з PLCnext Engineer через редактор `Cockpit`, натиснувши ![img](media/ico_Start_WebBrowser.png), якщо  PLCnext Engineer знаходиться в режимі онлайна з ПЛК;
- або, коли дані HMI завантажуються в контролер, ввівши відповідну IP-адресу в веб-браузері адресний рядок, тут PLCnext Engineer не потрібен для відображення візуалізації

Якщо адреса вказується в браузері Ви можете передати параметри URL-адресі `https://<IP-адреса контролера>/ehmi/hmiapp.html`, яка використовується для виклику візуалізації HMI через веб-браузер. Це дозволяє, наприклад, вказати ідентифікатор станції клієнта HMI, який використовується для керування та моніторингу візуалізації. Параметри передаються до URL-адреси шляхом додавання параметра після знака питання (`?`) в URL-адресі. Значення параметра вказується після символу рівності (`=`). До URL-адреси можна передати кілька параметрів, розділивши їх символом амперсанда (`&`), як показано в наступному прикладі (тут до URL-адреси передається ідентифікатор станції та мова запуску для перекладених текстових ресурсів HMI).

Приклад: `https://192.168.2.50/ehmi/hmiapp.html?StationID=222&language=en`

Підтримуються такі параметри URL-адреси:

| URL параметр | Опис                                                         |
| ------------ | ------------------------------------------------------------ |
| StationID    | Ідентифікатор станції (ціле значення) клієнта HMI, який використовується для керування та моніторингу візуалізації HMI. Див. тему «Підключення між клієнтом HMI та технологічним контролером PLCnext", щоб дізнатися, як отримати інформацію про стан клієнтів HMI, підключених до контролера. |
| language     | Код мови, визначений у діалоговому вікні `Extras > Options` в розділі `International |Default Language Settings`  налаштувань мови за замовчуванням. Код мови (наприклад, `en`, `de` тощо) означує мову за замовчуванням клієнта HMI під час запуску візуалізації. |



- [Швидкий старт](hmiquickstart.md)
- Security for HMI
- HMI Pages
- 'Navigation' Editor
- HMI Objects, Symbols, Images
- [HMI теги](hmitags.md)
- HMI Editor
- Working with Objects
- Standard HMI Objects
- Combining Shapes
- Drawing and Editing Paths
- Working with Dynamics
- Working with User-defined HMI Symbols
- Working with Text Lists
- Localization of the HMI Application
- HMI Generator
- HMI Web Server Settings
- Connection between HMI client and PLCnext Technology Controller

